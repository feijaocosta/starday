!function i(s,o,r){function a(t,e){if(!o[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},s[t][0].call(n.exports,function(e){return a(s[t][1][e]||e)},n,n.exports,i,s,o,r)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)a(r[e]);return a}({1:[function(e,n,i){"use strict";var l=e("../components/Repeater"),d=e("../components/CategoryArgs"),p=e("../components/DesignOptions");const m=wp.i18n["__"],t=wp.blocks["registerBlockType"],c=wp.editor["InspectorControls"],h=wp.element["Fragment"],{ServerSideRender:u,Disabled:v,PanelBody:b,TextControl:g,RangeControl:y}=wp.components;t("vodi/section-event-category-list",{title:m("Vodi Event Categories Block","vodi-extensions"),icon:"playlist-video",category:"vodi-blocks",edit:e=>{const{attributes:t,setAttributes:i}=e,{section_title:n,section_nav_links:s,columns:o,category_args:r,design_options:a}=t;return wp.element.createElement(h,null,wp.element.createElement(c,null,wp.element.createElement(g,{label:m("Section Title","vodi-extensions"),value:n,onChange:e=>{i({section_title:e})}}),wp.element.createElement(l.Repeater,{title:m("Nav Links","vodi-extensions"),values:s?JSON.parse(s):[],defaultValues:{title:"",link:""},updateValues:e=>{i({section_nav_links:JSON.stringify([...e])})}},wp.element.createElement(g,{label:m("Action Text","vodi-extensions"),name:"title",valuekey:"value",value:"",trigger_method_name:"onChange",onChange:(e,t)=>{var n=JSON.parse(s);n[t].title=e,i({section_nav_links:JSON.stringify([...n])})}}),wp.element.createElement(g,{label:m("Action Link","vodi-extensions"),name:"link",valuekey:"value",value:"",trigger_method_name:"onChange",onChange:(e,t)=>{var n=JSON.parse(s);n[t].link=e,i({section_nav_links:JSON.stringify([...n])})}})),wp.element.createElement(y,{label:m("Columns","vodi-extensions"),value:o,onChange:e=>{i({columns:e})},min:3,max:5}),wp.element.createElement(d.CategoryArgs,{postType:"video",catTaxonomy:"video_cat",attributes:{...r},updateCategoryArgs:e=>{i({category_args:{...r,...e}})}}),wp.element.createElement(b,{title:m("Design Options","vodi-extensions"),initialOpen:!1},wp.element.createElement(p.DesignOptions,{attributes:{...a},updateDesignOptions:e=>{i({design_options:{...a,...e}})}}))),wp.element.createElement(v,null,wp.element.createElement(u,{block:"vodi/section-event-category-list",attributes:t})))},save(){return null}})},{"../components/CategoryArgs":2,"../components/DesignOptions":3,"../components/Repeater":6}],2:[function(e,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryArgs=void 0;var d=e("./TermSelector");const p=wp.i18n["__"];e=wp.element.Component;const{RangeControl:m,SelectControl:c,CheckboxControl:h}=wp.components,u=wp.hooks["applyFilters"];class n extends e{constructor(e){super(...arguments),this.props=e,this.onChangeNumber=this.onChangeNumber.bind(this),this.onChangeOrderby=this.onChangeOrderby.bind(this),this.onChangeOrder=this.onChangeOrder.bind(this),this.onChangeInclude=this.onChangeInclude.bind(this),this.onChangeHideEmpty=this.onChangeHideEmpty.bind(this)}onChangeNumber(e){this.props.updateCategoryArgs({number:e})}onChangeOrderby(e){this.props.updateCategoryArgs({orderby:e})}onChangeOrder(e){this.props.updateCategoryArgs({order:e})}onChangeInclude(e){this.props.updateCategoryArgs({include:e.join(",")})}onChangeHideEmpty(e){this.props.updateCategoryArgs({hide_empty:e})}render(){const{attributes:e,postType:t,catTaxonomy:n,hideFields:i}=this.props,{number:s,orderby:o,order:r,include:a,hide_empty:l}=e;return wp.element.createElement("div",null,i&&i.includes("number")?"":wp.element.createElement(m,{label:p("Limit","vodi-extensions"),value:s,onChange:this.onChangeNumber,min:u("vodi.component.categoryArgs.limit.min",1),max:u("vodi.component.categoryArgs.limit.max",20)}),i&&i.includes("orderby")?"":wp.element.createElement(c,{label:p("Orderby","vodi-extensions"),value:o,options:[{label:p("Title","vodi-extensions"),value:"name"},{label:p("Count","vodi-extensions"),value:"count"},{label:p("ID","vodi-extensions"),value:"id"},{label:p("Slug","vodi-extensions"),value:"slug"},{label:p("Term ID","vodi-extensions"),value:"term_id"},{label:p("Term Group","vodi-extensions"),value:"term_group"},{label:p("Description","vodi-extensions"),value:"description"},{label:p("Parent","vodi-extensions"),value:"parent"},{label:p("Include","vodi-extensions"),value:"include"}],onChange:this.onChangeOrderby}),i&&i.includes("order")?"":wp.element.createElement(c,{label:p("Order","vodi-extensions"),value:r,options:[{label:p("ASC","vodi-extensions"),value:"ASC"},{label:p("DESC","vodi-extensions"),value:"DESC"}],onChange:this.onChangeOrder}),i&&i.includes("include")?"":wp.element.createElement(d.TermSelector,{postType:t,taxonomy:n,title:p("Search Category","vodi-extensions"),selectedTermIds:a?a.split(",").map(Number):[],updateSelectedTermIds:this.onChangeInclude}),i&&i.includes("hide_empty")?"":wp.element.createElement(h,{label:p("Hide Empty","vodi-extensions"),help:p("Check to select hide empty categories.","vodi-extensions"),checked:l,onChange:this.onChangeHideEmpty}))}}t.CategoryArgs=n},{"./TermSelector":7}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DesignOptions=void 0;const r=wp.i18n["__"];var i=wp.element["Component"];const a=wp.components["RangeControl"];class s extends i{constructor(e){super(...arguments),this.props=e,this.onChangePaddingTop=this.onChangePaddingTop.bind(this),this.onChangePaddingBottom=this.onChangePaddingBottom.bind(this),this.onChangePaddingLeft=this.onChangePaddingLeft.bind(this),this.onChangePaddingRight=this.onChangePaddingRight.bind(this),this.onChangeMarginTop=this.onChangeMarginTop.bind(this),this.onChangeMarginBottom=this.onChangeMarginBottom.bind(this)}onChangePaddingTop(e){this.props.updateDesignOptions({padding_top:e})}onChangePaddingBottom(e){this.props.updateDesignOptions({padding_bottom:e})}onChangePaddingLeft(e){this.props.updateDesignOptions({padding_left:e})}onChangePaddingRight(e){this.props.updateDesignOptions({padding_right:e})}onChangeMarginTop(e){this.props.updateDesignOptions({margin_top:e})}onChangeMarginBottom(e){this.props.updateDesignOptions({margin_bottom:e})}render(){var e=this.props["attributes"],{padding_top:e,padding_bottom:t,padding_left:n,padding_right:i,margin_top:s,margin_bottom:o}=e;return wp.element.createElement("div",null,wp.element.createElement(a,{label:r("Padding Top (px)","vodi-extensions"),value:e,onChange:this.onChangePaddingTop,min:0,max:100}),wp.element.createElement(a,{label:r("Padding Bottom (px)","vodi-extensions"),value:t,onChange:this.onChangePaddingBottom,min:0,max:100}),wp.element.createElement(a,{label:r("Padding Left (px)","vodi-extensions"),value:n,onChange:this.onChangePaddingLeft,min:0,max:100}),wp.element.createElement(a,{label:r("Padding Right (px)","vodi-extensions"),value:i,onChange:this.onChangePaddingRight,min:0,max:100}),wp.element.createElement(a,{label:r("Margin Top (px)","vodi-extensions"),value:s,onChange:this.onChangeMarginTop,min:-100,max:100}),wp.element.createElement(a,{label:r("Margin Bottom (px)","vodi-extensions"),value:o,onChange:this.onChangeMarginBottom,min:-100,max:100}))}}n.DesignOptions=s},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Item=void 0;n.Item=e=>{let{title:{rendered:t}={},name:n,clickHandler:i,id:s,icon:o}=e;return wp.element.createElement("article",{className:"item"},wp.element.createElement("div",{className:"item-body"},wp.element.createElement("h3",{className:"item-title",style:{marginTop:"0"}},t,n)),wp.element.createElement("button",{onClick:()=>i(s)},o))}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ItemList=void 0;var r=e("./Item");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}const l=wp.i18n["__"];n.ItemList=e=>{const{filtered:t=!1,loading:n=!1,items:i=[],action:s=()=>{},icon:o=null}=e;return n?wp.element.createElement("p",{className:"loading-items"},l("Loading ...","vodi-extensions")):t&&i.length<1?wp.element.createElement("div",{className:"item-list"},wp.element.createElement("p",null,l("Your query yielded no results, please try again.","vodi-extensions"))):!i||i.length<1?wp.element.createElement("p",{className:"no-items"},l("Not found.","vodi-extensions")):wp.element.createElement("div",{className:"item-list"},i.map(e=>wp.element.createElement(r.Item,a({key:e.id},e,{clickHandler:s,icon:o}))))}},{"./Item":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Repeater=void 0;var{}=wp.i18n;const{Component:i,Children:a}=wp.element,{Panel:l,Button:s,Icon:o}=wp.components;class r extends i{constructor(e){super(...arguments),this.props=e,this.renderAddButton=this.renderAddButton.bind(this),this.renderRemoveButton=this.renderRemoveButton.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleRemove=this.handleRemove.bind(this),this.renderChildrenElements=this.renderChildrenElements.bind(this)}renderAddButton(){return wp.element.createElement(s,{isDefault:!0,className:"button-fullwidth",onClick:this.handleAdd},wp.element.createElement(o,{icon:"plus"}))}renderRemoveButton(){return wp.element.createElement(s,{isDestructive:!0,className:"button-remove",onClick:this.handleRemove},wp.element.createElement(o,{icon:"dismiss"}))}handleAdd(){const{defaultValues:e,updateValues:t}=this.props;var n=this.props["values"],n=n?[...n,{...e}]:[{...e}];t(n)}handleRemove(n){const e=this.props["updateValues"],t=this.props["values"];var i=t.filter((e,t)=>t!=n);e(i)}renderChildrenElements(){const s=this.props["children"],o=this.props["values"];if(!o)return[];const r=this.renderRemoveButton();return o.map((e,n)=>{var t=a.map(s,t=>{let e={...t.props};return o[n][t.props.name]&&(e[t.props.valuekey]=o[n][t.props.name]),e[t.props.trigger_method_name]=e=>t.props[t.props.trigger_method_name](e,n),React.cloneElement(t,{...e})}),i=React.cloneElement(r,{key:"repeater-remove-"+n,onClick:()=>r.props.onClick(n)});return React.createElement(l,{key:"repeater-child-"+n},[t,i])})}render(){return wp.element.createElement("div",{className:"components-base-control repeater-component"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label"},this.props.title),this.renderChildrenElements(),this.renderAddButton()))}}n.Repeater=r},{}],7:[function(e,o,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermSelector=void 0;var a=e("./ItemList"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=r(t);if(t&&t.has(e))return t.get(e);var n,i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=s?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n])}i.default=e,t&&t.set(e,i);return i}(e("../utils/api")),s=e("../utils/useful-funcs");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const l=wp.i18n["__"],d=wp.components["Icon"];e=wp.element.Component;class n extends e{constructor(e){super(...arguments),this.props=e,this.state={terms:[],loading:!1,type:e.postType||"post",taxonomy:e.taxonomy||"category",taxonomies:[],filter:"",filterLoading:!1,filterTerms:[],initialLoading:!1},this.addTerm=this.addTerm.bind(this),this.removeTerm=this.removeTerm.bind(this),this.handleInputFilterChange=this.handleInputFilterChange.bind(this),this.doTermFilter=(0,s.debounce)(this.doTermFilter.bind(this),300)}componentDidMount(){this.setState({initialLoading:!0}),i.getTaxonomies({type:this.state.type}).then(e=>{this.setState({taxonomies:e},()=>{this.retrieveSelectedTerms().then(()=>{this.setState({initialLoading:!1})})})})}getTerms(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const t=this.props["selectedTermIds"],n={...{per_page:10,type:this.state.type,taxonomy:this.state.taxonomy,search:this.state.filter},...e};return n.restBase=this.state.taxonomies[this.state.taxonomy].rest_base,i.getTerms(n).then(e=>(n.search?this.setState({filterTerms:e.filter(e=>{e=e.id;return-1===t.indexOf(e)})}):this.setState({terms:(0,s.uniqueById)([...this.state.terms,...e])}),e))}getSelectedTerms(){const t=this.props["selectedTermIds"];return this.state.terms.filter(e=>{e=e.id;return-1!==t.indexOf(e)}).sort((e,t)=>{e=this.props.selectedTermIds.indexOf(e.id),t=this.props.selectedTermIds.indexOf(t.id);return t<e?1:e<t?-1:0})}retrieveSelectedTerms(){var{termType:e,selectedTermIds:t}=this.props,{}=this.state;return t&&0<!t.length?new Promise(e=>e()):this.getTerms({include:this.props.selectedTermIds.join(","),per_page:100,termType:e})}addTerm(t){var e;this.state.filter&&(e=this.state.filterTerms.filter(e=>e.id===t),e=(0,s.uniqueById)([...this.state.terms,...e]),this.setState({terms:e})),this.props.updateSelectedTermIds([...this.props.selectedTermIds,t])}removeTerm(t){this.props.updateSelectedTermIds([...this.props.selectedTermIds].filter(e=>e!==t))}handleInputFilterChange(){let{target:{value:e=""}={}}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.setState({filter:e},()=>{if(!e)return this.setState({filteredTerms:[],filtering:!1});this.doTermFilter()})}doTermFilter(){var{filter:e=""}=this.state;e&&(this.setState({filtering:!0,filterLoading:!0}),this.getTerms().then(()=>{this.setState({filterLoading:!1})}))}render(){var{title:e=l("Search Term","vodi")}=this.props,t=this.state.filtering,n=t&&!this.state.filterLoading?this.state.filterTerms:[],i=this.getSelectedTerms(),s=wp.element.createElement(d,{icon:"plus"}),o=wp.element.createElement(d,{icon:"minus"}),r="searchinput-"+Math.random().toString(36).substr(2,16);return wp.element.createElement("div",{className:"components-base-control components-term-selector"},wp.element.createElement("div",{className:"components-base-control__field--selected"},wp.element.createElement("h2",null,e),wp.element.createElement(a.ItemList,{items:i,loading:this.state.initialLoading,action:this.removeTerm,icon:o})),wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{htmlFor:r,className:"components-base-control__label"},wp.element.createElement(d,{icon:"search"})),wp.element.createElement("input",{className:"components-text-control__input",id:r,type:"search",placeholder:l("Please enter your search query...","vodi-extensions"),value:this.state.filter,onChange:this.handleInputFilterChange}),wp.element.createElement(a.ItemList,{items:n,loading:this.state.initialLoading||this.state.loading||this.state.filterLoading,filtered:t,action:this.addTerm,icon:s})))}}t.TermSelector=n},{"../utils/api":8,"../utils/useful-funcs":9,"./ItemList":5}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTerms=n.getTaxonomies=n.getPosts=n.getPostTypes=void 0;const i=wp["apiFetch"];n.getPostTypes=()=>i({path:"/wp/v2/types"}),n.getPosts=e=>{let{restBase:t=!1,...n}=e;e=`/wp/v2/${t}?${Object.keys(n).map(e=>e+"="+n[e]).join("&")}&_embed`;return i({path:e})},n.getTaxonomies=e=>{let{...t}=e;e=`/wp/v2/taxonomies?${Object.keys(t).map(e=>e+"="+t[e]).join("&")}&_embed`;return i({path:e})};n.getTerms=e=>{let{restBase:t=!1,...n}=e;e=`/wp/v2/${t}?${Object.keys(n).map(e=>e+"="+n[e]).join("&")}&_embed`;return i({path:e})}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uniqueById=n.uniqueBy=n.debounce=void 0;const i=(e,t)=>{let n=[];return e.filter(e=>-1===n.indexOf(e[t])&&n.push(e[t]))};n.uniqueBy=i;n.uniqueById=e=>i(e,"id");n.debounce=(n,i)=>{let s=null;return function(){const e=this,t=arguments;clearTimeout(s),s=setTimeout(()=>{n.apply(e,t)},i)}}},{}]},{},[1]);
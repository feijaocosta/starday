!function(d,t){"use strict";var o=d(document),i=function(n){function a(i){i.on("change",".widget_type",function(){var t=jQuery(this).val();jQuery(".spinner",i).addClass("is-active"),jQuery.ajax({data:{widget:t,action:"vodi_tabbed_get_settings_form",_nonce:Vodi_Tabbed_Widget_Settings.nonce},url:ajaxurl,type:"post",dataType:"html",success:function(t){var t=d(t),e=jQuery(".tabbed-widget-settings",i);e.html(t),jQuery(".spinner",i).removeClass("is-active"),o.trigger("widget-added",[e]),jQuery(window).trigger("resize")}})})}function r(e,i){i.on("change keyup","input, select, textarea",function(){var t=jQuery("input, select, textarea",i).serialize();jQuery("input.tab-value",e).val(t),0<jQuery('input[id*="-title"]',i).length&&(t=jQuery('input[id*="-title"]',i).val()||Vodi_Tabbed_Widget_Settings.untitled,jQuery(".vodi-tw-label",e).text(t))})}jQuery(".vodi-tw-tab-content",n).each(function(){a(jQuery(this))}),jQuery(".vodi-tw-nav li.vodi-tw-title",n).each(function(t){var e="tab-"+t+(new Date).getTime(),i=(jQuery(this).attr("data-for",e),jQuery(".vodi-tw-tab-content",n).eq(t)),e=(i.attr("id",e),i.attr("data-index",t),i.find(".widget.tabbed-widget-settings"));0<e.length&&o.trigger("widget-added",[e])}),n.on("click",".vodi-tw-nav li.vodi-tw-title",function(t){t.preventDefault(),jQuery(".dashicons",jQuery(this)).is(t.target)||jQuery(".vodi-tw-remove",jQuery(this)).is(t.target)||jQuery(this).hasClass("ui-state-disabled")||(t=jQuery(this).attr("data-for"),jQuery(".vodi-tw-tab-content",n).removeClass("tab-active"),jQuery("#"+t+".vodi-tw-tab-content",n).addClass("tab-active"),jQuery(".vodi-tw-nav li",n).removeClass("nav-active"),jQuery(this).addClass("nav-active"),jQuery(".vodi-tw-nav li.vodi-tw-title",n).each(function(t){jQuery(this).hasClass("nav-active")&&jQuery("input.current_active",n).val(t)}))});var t=jQuery("input.current_active",n).val();t=parseInt(t),isNaN(t)&&(t=0),(jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(t).length?jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(t):jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(0)).trigger("click"),jQuery(".vodi-tw-nav li.vodi-tw-title",n).each(function(t){var e="tab-"+t+(new Date).getTime(),i=jQuery(this),a=(i.attr("data-for",e),jQuery(".vodi-tw-tab-content",n).eq(t)),e=(a.attr("id",e),a.attr("data-index",t),r(i,a),jQuery("input, select, textarea",a).serialize());jQuery("input.tab-value",i).val(e)}),jQuery(".vodi-tw-nav",n).sortable({containment:"parent",items:"li:not(.ui-state-disabled)",change:function(t,e){var i=(new Date).getTime();d(".base_tab_id",n).val(i).trigger("change")}}),n.on("click",".vodi-tw-nav li .vodi-tw-remove",function(t){t.preventDefault();var e,t=jQuery(this).parent();t.hasClass("ui-state-disabled")||(e=t.attr("data-for"),jQuery("#"+e+".vodi-tw-tab-content",n).remove(),t.remove(),e=jQuery(".vodi-tw-nav li.vodi-tw-title",n).length,((t=0)<jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(t).length?jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(t):jQuery(".vodi-tw-nav li.vodi-tw-title",n).eq(0)).trigger("click"),jQuery(window).trigger("resize"),e<=0&&jQuery(".no-tabs",n).show(),t=(new Date).getTime(),d(".base_tab_id",n).val(t).trigger("change"))}),n.on("click",".add-new-tab",function(t){t.preventDefault();var t="tab-"+Math.floor(100*Math.random()+1)+(new Date).getTime(),e=jQuery(jQuery(".title-tpl",n).html()),i=(e.attr("data-for",t),jQuery(".vodi-tw-nav",n).append(e),jQuery(jQuery(".settings-tpl",n).html()));i.attr("id",t),jQuery(".vodi-tw-tab-contents",n).append(i),jQuery(window).trigger("resize"),a(i),r(e,i),e.trigger("click"),jQuery(".no-tabs",n).hide()})};t?t.bind("ready",function(t,e){d(".widgets-holder-wrap:not(#available-widgets)").find("div.widget").one("click.toggle-widget-expanded",function(){var t=d(this);i(d(".vodi-tw-tabs",t))}),jQuery(document).on("widget-added widget-updated",function(t,e){i(d(".vodi-tw-tabs",e))})}):(o.ready(function(){d(".widgets-holder-wrap:not(#available-widgets)").find("div.widget").one("click.toggle-widget-expanded",function(){var t=d(this);i(d(".vodi-tw-tabs",t))}),jQuery(document).on("widget-added widget-updated",function(t,e){i(d(".vodi-tw-tabs",e))})}),o.on("panelsopen",function(t){t=d(t.target);i(d(".vodi-tw-tabs",t))}))}(jQuery,wp.customize||null);